<!DOCTYPE html>
<html lang="en">
<head>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.3/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/async/2.4.1/async.js"></script>

<meta charset="UTF-8">
<link rel="stylesheet" href="style.css"></link>
<title>Tester</title>
</head>

<body>
  <div id="app">

    <div class="container">

      <h1>Admin Tester</h1>

      <div class="form-container" @keydown.enter="send">

        <div class="selects-container">
          <div class="model-container">
            <select v-model="service">
              <option disabled value="">Сервис</option>
              <option v-for="service in services">{{service}}</option>
            </select>
          </div>
          <div class="model-container">
            <select v-model="method">
              <option disabled value="">Метод</option>
              <option v-for="method in removeJsonMethods">{{method}}</option>
            </select>
          </div>
        </div>

        <button class="send-button" @click="send">{{ actionName }}</button>


<!--         <div class="switch-container" v-if="false">
          <span @click="actionName = 'ДЕРНУТЬ'">Get</span>
          <span @click="actionName = 'СОЗДАТЬ'">Create</span>
        </div> -->


        <template v-if="service == 'Page'">

          <!--WRAP CREATE NAMED METHODS-->
          <div class="model-tab">
            <template v-for="(v,k) of modelBox">
              <div class="model-container" v-if="!isJson(k)">
                <label for="modelName">{{k}}</label>
                <input v-model="modelBox[k]" id="pageName" focus="true" />
              </div>
              <div class="model-container" v-if="isJson(k)">
                <label :for="k+'-id'">{{k}}</label>
                <textarea cols=80 rows=20 :id="k+'-id'">
                </textarea>
              </div>
            </template>
          </div>

<!--
          <div class="model-tab" v-if="method=='Get'">
            <template v-for="(v,k) of modelBox">
              <div class="model-container" type="text" v-if="!isJson(k)">
                <label :for="k+'-id'">{{k}}</label>
                <input v-model="modelBox[k]" :id="k+'-id'" focus="true" />
              </div>
            </template>
          </div>

          <div class="model-tab" v-if="method=='Update'">

            <template v-for="(v,k) of modelBox">
              <div class="model-container" v-if="!isJson(k)">
                <label :for="k+'-id'">{{k}}</label>
                <input v-model="modelBox[k]" :id="k+'-id'" focus="true" />
              </div>
              <div class="model-container" v-if="isJson(k)">
                <label :for="k+'-id'">{{k}}</label>
                <textarea cols=80 rows=20 :id="k+'-id'">
                </textarea>
              </div>
            </template>

          </div> -->

        </template>


<!--         <div>
          <div class="add-block">+</div>
        </div> -->

      </div>



      status: <span id="status">connecting...</span>
      <a href="https://jsfiddle.net/">edit JSON</a>
    </div>
    <div class="response">

      <h1>Response Data</h1>

      <div class="server-messages">
        <pre>{{response}}</pre>
      </div>


    </div>
  </div>

  <script type="text/javascript" src="channel.js"> </script>
  <script type="text/javascript" src="app.js"></script>
</body>

</html>
